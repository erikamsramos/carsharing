<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Chapter 4 Ranking carsharing based on the type of the trip | Online appendix for the paper: “Roundtrip, free-floating and peer-to-peer carsharing: A Bayesian behavioral analysis”</title>
  <meta name="description" content="This is the online appendix for the paper: “Roundtrip, free-floating and peer-to-peer carsharing: A Bayesian behavioral analysis”" />
  <meta name="generator" content="bookdown 0.24 and GitBook 2.6.7" />

  <meta property="og:title" content="Chapter 4 Ranking carsharing based on the type of the trip | Online appendix for the paper: “Roundtrip, free-floating and peer-to-peer carsharing: A Bayesian behavioral analysis”" />
  <meta property="og:type" content="book" />
  
  
  <meta property="og:description" content="This is the online appendix for the paper: “Roundtrip, free-floating and peer-to-peer carsharing: A Bayesian behavioral analysis”" />
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Chapter 4 Ranking carsharing based on the type of the trip | Online appendix for the paper: “Roundtrip, free-floating and peer-to-peer carsharing: A Bayesian behavioral analysis”" />
  
  <meta name="twitter:description" content="This is the online appendix for the paper: “Roundtrip, free-floating and peer-to-peer carsharing: A Bayesian behavioral analysis”" />
  

<meta name="author" content="Érika Martins Silva Ramos, David Issa Mattos and Cecilia Jakobsson Bergstad" />


<meta name="date" content="2021-09-09" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="motivators-for-using-a-carsharing-company.html"/>
<link rel="next" href="psychological-predictors-of-carsharing-per-business-model.html"/>
<script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/fuse.js@6.4.6/dist/fuse.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />








<script src="libs/accessible-code-block-0.0.1/empty-anchor.js"></script>
<link href="libs/anchor-sections-1.0.1/anchor-sections.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.0.1/anchor-sections.js"></script>
<script src="libs/kePrint-0.0.1/kePrint.js"></script>
<link href="libs/lightable-0.0.1/lightable.css" rel="stylesheet" />


<style type="text/css">
code.sourceCode > span { display: inline-block; line-height: 1.25; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode { white-space: pre; position: relative; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
code.sourceCode { white-space: pre-wrap; }
code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>


</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li class="chapter" data-level="1" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i><b>1</b> Foreword</a><ul>
<li class="chapter" data-level="1.1" data-path="index.html"><a href="index.html#session-info"><i class="fa fa-check"></i><b>1.1</b> Session info</a></li>
</ul></li>
<li class="chapter" data-level="2" data-path="descriptive-statistics.html"><a href="descriptive-statistics.html"><i class="fa fa-check"></i><b>2</b> Descriptive statistics</a><ul>
<li class="chapter" data-level="2.1" data-path="descriptive-statistics.html"><a href="descriptive-statistics.html#importing-and-preparing-the-data"><i class="fa fa-check"></i><b>2.1</b> Importing and preparing the data</a></li>
<li class="chapter" data-level="2.2" data-path="descriptive-statistics.html"><a href="descriptive-statistics.html#descriptive-statistics-table"><i class="fa fa-check"></i><b>2.2</b> Descriptive statistics table</a></li>
<li class="chapter" data-level="2.3" data-path="descriptive-statistics.html"><a href="descriptive-statistics.html#tables-for-the-paper"><i class="fa fa-check"></i><b>2.3</b> Tables for the paper</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="motivators-for-using-a-carsharing-company.html"><a href="motivators-for-using-a-carsharing-company.html"><i class="fa fa-check"></i><b>3</b> Motivators for using a carsharing company</a><ul>
<li class="chapter" data-level="3.1" data-path="motivators-for-using-a-carsharing-company.html"><a href="motivators-for-using-a-carsharing-company.html#importing-and-preparing-the-data-1"><i class="fa fa-check"></i><b>3.1</b> Importing and preparing the data</a></li>
<li class="chapter" data-level="3.2" data-path="motivators-for-using-a-carsharing-company.html"><a href="motivators-for-using-a-carsharing-company.html#model"><i class="fa fa-check"></i><b>3.2</b> Model</a><ul>
<li class="chapter" data-level="3.2.1" data-path="motivators-for-using-a-carsharing-company.html"><a href="motivators-for-using-a-carsharing-company.html#priors-for-the-models"><i class="fa fa-check"></i><b>3.2.1</b> Priors for the models</a></li>
<li class="chapter" data-level="3.2.2" data-path="motivators-for-using-a-carsharing-company.html"><a href="motivators-for-using-a-carsharing-company.html#comparing-the-two-models"><i class="fa fa-check"></i><b>3.2.2</b> Comparing the two models</a></li>
<li class="chapter" data-level="3.2.3" data-path="motivators-for-using-a-carsharing-company.html"><a href="motivators-for-using-a-carsharing-company.html#summary"><i class="fa fa-check"></i><b>3.2.3</b> Summary</a></li>
<li class="chapter" data-level="3.2.4" data-path="motivators-for-using-a-carsharing-company.html"><a href="motivators-for-using-a-carsharing-company.html#marginal-effects"><i class="fa fa-check"></i><b>3.2.4</b> Marginal effects</a></li>
</ul></li>
<li class="chapter" data-level="3.3" data-path="motivators-for-using-a-carsharing-company.html"><a href="motivators-for-using-a-carsharing-company.html#figures-for-the-paper"><i class="fa fa-check"></i><b>3.3</b> Figures for the paper</a><ul>
<li class="chapter" data-level="3.3.1" data-path="motivators-for-using-a-carsharing-company.html"><a href="motivators-for-using-a-carsharing-company.html#panel-1---demographics"><i class="fa fa-check"></i><b>3.3.1</b> Panel 1 - demographics</a></li>
<li class="chapter" data-level="3.3.2" data-path="motivators-for-using-a-carsharing-company.html"><a href="motivators-for-using-a-carsharing-company.html#panel-2---motivators"><i class="fa fa-check"></i><b>3.3.2</b> Panel 2 - motivators</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="4" data-path="ranking-carsharing-based-on-the-type-of-the-trip.html"><a href="ranking-carsharing-based-on-the-type-of-the-trip.html"><i class="fa fa-check"></i><b>4</b> Ranking carsharing based on the type of the trip</a><ul>
<li class="chapter" data-level="4.1" data-path="ranking-carsharing-based-on-the-type-of-the-trip.html"><a href="ranking-carsharing-based-on-the-type-of-the-trip.html#importing-the-data"><i class="fa fa-check"></i><b>4.1</b> Importing the data</a></li>
<li class="chapter" data-level="4.2" data-path="ranking-carsharing-based-on-the-type-of-the-trip.html"><a href="ranking-carsharing-based-on-the-type-of-the-trip.html#helper-functions"><i class="fa fa-check"></i><b>4.2</b> Helper functions</a></li>
<li class="chapter" data-level="4.3" data-path="ranking-carsharing-based-on-the-type-of-the-trip.html"><a href="ranking-carsharing-based-on-the-type-of-the-trip.html#number-of-people-registered-in-at-least-2-companies"><i class="fa fa-check"></i><b>4.3</b> Number of people registered in at least 2 companies</a></li>
<li class="chapter" data-level="4.4" data-path="ranking-carsharing-based-on-the-type-of-the-trip.html"><a href="ranking-carsharing-based-on-the-type-of-the-trip.html#work-trips"><i class="fa fa-check"></i><b>4.4</b> Work trips</a></li>
<li class="chapter" data-level="4.5" data-path="ranking-carsharing-based-on-the-type-of-the-trip.html"><a href="ranking-carsharing-based-on-the-type-of-the-trip.html#going-out-for-dinner-trips"><i class="fa fa-check"></i><b>4.5</b> Going out for dinner trips</a></li>
<li class="chapter" data-level="4.6" data-path="ranking-carsharing-based-on-the-type-of-the-trip.html"><a href="ranking-carsharing-based-on-the-type-of-the-trip.html#daily-shopping-trips"><i class="fa fa-check"></i><b>4.6</b> Daily-shopping trips</a></li>
<li class="chapter" data-level="4.7" data-path="ranking-carsharing-based-on-the-type-of-the-trip.html"><a href="ranking-carsharing-based-on-the-type-of-the-trip.html#bulk-shopping-trips"><i class="fa fa-check"></i><b>4.7</b> Bulk shopping trips</a></li>
<li class="chapter" data-level="4.8" data-path="ranking-carsharing-based-on-the-type-of-the-trip.html"><a href="ranking-carsharing-based-on-the-type-of-the-trip.html#recreational-activity-trips"><i class="fa fa-check"></i><b>4.8</b> Recreational activity trips</a></li>
<li class="chapter" data-level="4.9" data-path="ranking-carsharing-based-on-the-type-of-the-trip.html"><a href="ranking-carsharing-based-on-the-type-of-the-trip.html#holiday-trips"><i class="fa fa-check"></i><b>4.9</b> Holiday trips</a></li>
<li class="chapter" data-level="4.10" data-path="ranking-carsharing-based-on-the-type-of-the-trip.html"><a href="ranking-carsharing-based-on-the-type-of-the-trip.html#creating-tables-and-figures-for-the-article"><i class="fa fa-check"></i><b>4.10</b> Creating tables and figures for the article</a></li>
</ul></li>
<li class="chapter" data-level="5" data-path="psychological-predictors-of-carsharing-per-business-model.html"><a href="psychological-predictors-of-carsharing-per-business-model.html"><i class="fa fa-check"></i><b>5</b> Psychological predictors of carsharing per business model</a><ul>
<li class="chapter" data-level="5.1" data-path="psychological-predictors-of-carsharing-per-business-model.html"><a href="psychological-predictors-of-carsharing-per-business-model.html#importing-the-data-1"><i class="fa fa-check"></i><b>5.1</b> Importing the data</a></li>
<li class="chapter" data-level="5.2" data-path="psychological-predictors-of-carsharing-per-business-model.html"><a href="psychological-predictors-of-carsharing-per-business-model.html#factor-analysis"><i class="fa fa-check"></i><b>5.2</b> Factor analysis</a><ul>
<li class="chapter" data-level="5.2.1" data-path="psychological-predictors-of-carsharing-per-business-model.html"><a href="psychological-predictors-of-carsharing-per-business-model.html#habits"><i class="fa fa-check"></i><b>5.2.1</b> Habits</a></li>
<li class="chapter" data-level="5.2.2" data-path="psychological-predictors-of-carsharing-per-business-model.html"><a href="psychological-predictors-of-carsharing-per-business-model.html#climate"><i class="fa fa-check"></i><b>5.2.2</b> Climate</a></li>
<li class="chapter" data-level="5.2.3" data-path="psychological-predictors-of-carsharing-per-business-model.html"><a href="psychological-predictors-of-carsharing-per-business-model.html#subjective-norms"><i class="fa fa-check"></i><b>5.2.3</b> Subjective norms</a></li>
<li class="chapter" data-level="5.2.4" data-path="psychological-predictors-of-carsharing-per-business-model.html"><a href="psychological-predictors-of-carsharing-per-business-model.html#trust"><i class="fa fa-check"></i><b>5.2.4</b> Trust</a></li>
<li class="chapter" data-level="5.2.5" data-path="psychological-predictors-of-carsharing-per-business-model.html"><a href="psychological-predictors-of-carsharing-per-business-model.html#control"><i class="fa fa-check"></i><b>5.2.5</b> Control</a></li>
<li class="chapter" data-level="5.2.6" data-path="psychological-predictors-of-carsharing-per-business-model.html"><a href="psychological-predictors-of-carsharing-per-business-model.html#table-for-the-lambdas"><i class="fa fa-check"></i><b>5.2.6</b> Table for the Lambda’s</a></li>
<li class="chapter" data-level="5.2.7" data-path="psychological-predictors-of-carsharing-per-business-model.html"><a href="psychological-predictors-of-carsharing-per-business-model.html#adding-the-fa-scores-to-data-frame"><i class="fa fa-check"></i><b>5.2.7</b> Adding the FA scores to data frame</a></li>
<li class="chapter" data-level="5.2.8" data-path="psychological-predictors-of-carsharing-per-business-model.html"><a href="psychological-predictors-of-carsharing-per-business-model.html#selecting-only-the-relevant-variables-now"><i class="fa fa-check"></i><b>5.2.8</b> Selecting only the relevant variables now</a></li>
</ul></li>
<li class="chapter" data-level="5.3" data-path="psychological-predictors-of-carsharing-per-business-model.html"><a href="psychological-predictors-of-carsharing-per-business-model.html#analysis-and-models"><i class="fa fa-check"></i><b>5.3</b> Analysis and models</a><ul>
<li class="chapter" data-level="5.3.1" data-path="psychological-predictors-of-carsharing-per-business-model.html"><a href="psychological-predictors-of-carsharing-per-business-model.html#ff"><i class="fa fa-check"></i><b>5.3.1</b> FF</a></li>
<li class="chapter" data-level="5.3.2" data-path="psychological-predictors-of-carsharing-per-business-model.html"><a href="psychological-predictors-of-carsharing-per-business-model.html#rtsb_a"><i class="fa fa-check"></i><b>5.3.2</b> RTSB_A</a></li>
<li class="chapter" data-level="5.3.3" data-path="psychological-predictors-of-carsharing-per-business-model.html"><a href="psychological-predictors-of-carsharing-per-business-model.html#rtsb_b"><i class="fa fa-check"></i><b>5.3.3</b> RTSB_B</a></li>
<li class="chapter" data-level="5.3.4" data-path="psychological-predictors-of-carsharing-per-business-model.html"><a href="psychological-predictors-of-carsharing-per-business-model.html#comb"><i class="fa fa-check"></i><b>5.3.4</b> COMB</a></li>
<li class="chapter" data-level="5.3.5" data-path="psychological-predictors-of-carsharing-per-business-model.html"><a href="psychological-predictors-of-carsharing-per-business-model.html#p2p"><i class="fa fa-check"></i><b>5.3.5</b> P2P</a></li>
</ul></li>
<li class="chapter" data-level="5.4" data-path="psychological-predictors-of-carsharing-per-business-model.html"><a href="psychological-predictors-of-carsharing-per-business-model.html#figures-for-the-paper-1"><i class="fa fa-check"></i><b>5.4</b> Figures for the paper</a><ul>
<li class="chapter" data-level="5.4.1" data-path="psychological-predictors-of-carsharing-per-business-model.html"><a href="psychological-predictors-of-carsharing-per-business-model.html#habits-panel"><i class="fa fa-check"></i><b>5.4.1</b> Habits panel</a></li>
<li class="chapter" data-level="5.4.2" data-path="psychological-predictors-of-carsharing-per-business-model.html"><a href="psychological-predictors-of-carsharing-per-business-model.html#climate-panel"><i class="fa fa-check"></i><b>5.4.2</b> Climate panel</a></li>
<li class="chapter" data-level="5.4.3" data-path="psychological-predictors-of-carsharing-per-business-model.html"><a href="psychological-predictors-of-carsharing-per-business-model.html#subjective-norm-panel"><i class="fa fa-check"></i><b>5.4.3</b> Subjective norm panel</a></li>
<li class="chapter" data-level="5.4.4" data-path="psychological-predictors-of-carsharing-per-business-model.html"><a href="psychological-predictors-of-carsharing-per-business-model.html#trust-panel"><i class="fa fa-check"></i><b>5.4.4</b> Trust panel</a></li>
<li class="chapter" data-level="5.4.5" data-path="psychological-predictors-of-carsharing-per-business-model.html"><a href="psychological-predictors-of-carsharing-per-business-model.html#control-panel"><i class="fa fa-check"></i><b>5.4.5</b> Control panel</a></li>
<li class="chapter" data-level="5.4.6" data-path="psychological-predictors-of-carsharing-per-business-model.html"><a href="psychological-predictors-of-carsharing-per-business-model.html#merging-panels"><i class="fa fa-check"></i><b>5.4.6</b> Merging panels</a></li>
</ul></li>
</ul></li>
</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Online appendix for the paper: “Roundtrip, free-floating and peer-to-peer carsharing: A Bayesian behavioral analysis”</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="ranking-carsharing-based-on-the-type-of-the-trip" class="section level1">
<h1><span class="header-section-number">Chapter 4</span> Ranking carsharing based on the type of the trip</h1>
<div class="sourceCode" id="cb43"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb43-1"><a href="ranking-carsharing-based-on-the-type-of-the-trip.html#cb43-1"></a><span class="kw">library</span>(haven)</span>
<span id="cb43-2"><a href="ranking-carsharing-based-on-the-type-of-the-trip.html#cb43-2"></a><span class="kw">library</span>(tidyverse)</span>
<span id="cb43-3"><a href="ranking-carsharing-based-on-the-type-of-the-trip.html#cb43-3"></a><span class="kw">library</span>(labelled)</span>
<span id="cb43-4"><a href="ranking-carsharing-based-on-the-type-of-the-trip.html#cb43-4"></a><span class="kw">library</span>(bpcs)</span>
<span id="cb43-5"><a href="ranking-carsharing-based-on-the-type-of-the-trip.html#cb43-5"></a><span class="kw">library</span>(knitr)</span>
<span id="cb43-6"><a href="ranking-carsharing-based-on-the-type-of-the-trip.html#cb43-6"></a><span class="kw">set.seed</span>(<span class="dv">3103</span>)</span></code></pre></div>
<div id="importing-the-data" class="section level2">
<h2><span class="header-section-number">4.1</span> Importing the data</h2>
<div class="sourceCode" id="cb44"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb44-1"><a href="ranking-carsharing-based-on-the-type-of-the-trip.html#cb44-1"></a>d &lt;-<span class="st"> </span>haven<span class="op">::</span><span class="kw">read_sav</span>(<span class="st">&quot;data/original/Users Germany.sav&quot;</span>)</span></code></pre></div>
</div>
<div id="helper-functions" class="section level2">
<h2><span class="header-section-number">4.2</span> Helper functions</h2>
<p>Here we define some initial functions to help make the paired comparison. These function basically take 1 row and create a dataset with all 10 possible paired comparisons. Then it merges each of these new datasets together.</p>
<div class="sourceCode" id="cb45"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb45-1"><a href="ranking-carsharing-based-on-the-type-of-the-trip.html#cb45-1"></a><span class="co"># expand 1 row</span></span>
<span id="cb45-2"><a href="ranking-carsharing-based-on-the-type-of-the-trip.html#cb45-2"></a>process_row &lt;-<span class="st"> </span><span class="cf">function</span>(df, out, company0, company1, row){</span>
<span id="cb45-3"><a href="ranking-carsharing-based-on-the-type-of-the-trip.html#cb45-3"></a>  diff01 &lt;-<span class="st"> </span>df[[row,company0]] <span class="op">-</span><span class="st"> </span>df[[row,company1]]</span>
<span id="cb45-4"><a href="ranking-carsharing-based-on-the-type-of-the-trip.html#cb45-4"></a>  </span>
<span id="cb45-5"><a href="ranking-carsharing-based-on-the-type-of-the-trip.html#cb45-5"></a>  <span class="cf">if</span>(<span class="op">!</span><span class="kw">is.na</span>(diff01)){</span>
<span id="cb45-6"><a href="ranking-carsharing-based-on-the-type-of-the-trip.html#cb45-6"></a>      res&lt;-<span class="ot">NULL</span></span>
<span id="cb45-7"><a href="ranking-carsharing-based-on-the-type-of-the-trip.html#cb45-7"></a>      <span class="cf">if</span>(diff01<span class="op">==</span><span class="dv">0</span>)</span>
<span id="cb45-8"><a href="ranking-carsharing-based-on-the-type-of-the-trip.html#cb45-8"></a>        res &lt;-<span class="st"> </span><span class="kw">rbinom</span>(<span class="dv">1</span>,<span class="dv">1</span>,<span class="fl">0.5</span>)<span class="co">#if tie it is randomly solved</span></span>
<span id="cb45-9"><a href="ranking-carsharing-based-on-the-type-of-the-trip.html#cb45-9"></a>      <span class="cf">else</span></span>
<span id="cb45-10"><a href="ranking-carsharing-based-on-the-type-of-the-trip.html#cb45-10"></a>        res &lt;-<span class="st"> </span><span class="kw">ifelse</span>(diff01 <span class="op">&gt;</span><span class="st"> </span><span class="dv">0</span> , <span class="dv">0</span>, <span class="dv">1</span>)</span>
<span id="cb45-11"><a href="ranking-carsharing-based-on-the-type-of-the-trip.html#cb45-11"></a>      out &lt;-<span class="st"> </span><span class="kw">add_row</span>(out,<span class="dt">company0=</span>company0,<span class="dt">company1=</span>company1, <span class="dt">win=</span>res, <span class="dt">user=</span>row)</span>
<span id="cb45-12"><a href="ranking-carsharing-based-on-the-type-of-the-trip.html#cb45-12"></a>  }</span>
<span id="cb45-13"><a href="ranking-carsharing-based-on-the-type-of-the-trip.html#cb45-13"></a></span>
<span id="cb45-14"><a href="ranking-carsharing-based-on-the-type-of-the-trip.html#cb45-14"></a>    <span class="kw">return</span>(out)</span>
<span id="cb45-15"><a href="ranking-carsharing-based-on-the-type-of-the-trip.html#cb45-15"></a>}</span>
<span id="cb45-16"><a href="ranking-carsharing-based-on-the-type-of-the-trip.html#cb45-16"></a></span>
<span id="cb45-17"><a href="ranking-carsharing-based-on-the-type-of-the-trip.html#cb45-17"></a>convert2pairedcomp &lt;-<span class="st"> </span><span class="cf">function</span>(df){</span>
<span id="cb45-18"><a href="ranking-carsharing-based-on-the-type-of-the-trip.html#cb45-18"></a>  out&lt;-<span class="kw">tribble</span>(<span class="op">~</span>company0, <span class="op">~</span>company1, <span class="op">~</span>win, <span class="op">~</span>user)</span>
<span id="cb45-19"><a href="ranking-carsharing-based-on-the-type-of-the-trip.html#cb45-19"></a>  i&lt;-<span class="dv">1</span></span>
<span id="cb45-20"><a href="ranking-carsharing-based-on-the-type-of-the-trip.html#cb45-20"></a>  <span class="cf">for</span>(i <span class="cf">in</span> <span class="kw">seq_along</span>(<span class="dv">1</span><span class="op">:</span><span class="kw">nrow</span>(df))){</span>
<span id="cb45-21"><a href="ranking-carsharing-based-on-the-type-of-the-trip.html#cb45-21"></a>    <span class="co"># print(i)</span></span>
<span id="cb45-22"><a href="ranking-carsharing-based-on-the-type-of-the-trip.html#cb45-22"></a>    <span class="co"># All 10 combinations</span></span>
<span id="cb45-23"><a href="ranking-carsharing-based-on-the-type-of-the-trip.html#cb45-23"></a>    out &lt;-<span class="st"> </span><span class="kw">process_row</span>(df,out, <span class="st">&#39;COMB&#39;</span>,<span class="st">&#39;FF&#39;</span>,i)</span>
<span id="cb45-24"><a href="ranking-carsharing-based-on-the-type-of-the-trip.html#cb45-24"></a>    out &lt;-<span class="st"> </span><span class="kw">process_row</span>(df,out, <span class="st">&#39;COMB&#39;</span>,<span class="st">&#39;RTSB_B&#39;</span>,i)</span>
<span id="cb45-25"><a href="ranking-carsharing-based-on-the-type-of-the-trip.html#cb45-25"></a>    out &lt;-<span class="st"> </span><span class="kw">process_row</span>(df,out, <span class="st">&#39;COMB&#39;</span>,<span class="st">&#39;P2P&#39;</span>,i)</span>
<span id="cb45-26"><a href="ranking-carsharing-based-on-the-type-of-the-trip.html#cb45-26"></a>    out &lt;-<span class="st"> </span><span class="kw">process_row</span>(df,out, <span class="st">&#39;COMB&#39;</span>,<span class="st">&#39;RTSB_A&#39;</span>,i)</span>
<span id="cb45-27"><a href="ranking-carsharing-based-on-the-type-of-the-trip.html#cb45-27"></a>  </span>
<span id="cb45-28"><a href="ranking-carsharing-based-on-the-type-of-the-trip.html#cb45-28"></a>    out &lt;-<span class="st"> </span><span class="kw">process_row</span>(df,out, <span class="st">&#39;FF&#39;</span>,<span class="st">&#39;RTSB_B&#39;</span>,i)</span>
<span id="cb45-29"><a href="ranking-carsharing-based-on-the-type-of-the-trip.html#cb45-29"></a>    out &lt;-<span class="st"> </span><span class="kw">process_row</span>(df,out, <span class="st">&#39;FF&#39;</span>,<span class="st">&#39;P2P&#39;</span>,i)</span>
<span id="cb45-30"><a href="ranking-carsharing-based-on-the-type-of-the-trip.html#cb45-30"></a>    out &lt;-<span class="st"> </span><span class="kw">process_row</span>(df,out, <span class="st">&#39;FF&#39;</span>,<span class="st">&#39;RTSB_A&#39;</span>,i)</span>
<span id="cb45-31"><a href="ranking-carsharing-based-on-the-type-of-the-trip.html#cb45-31"></a>  </span>
<span id="cb45-32"><a href="ranking-carsharing-based-on-the-type-of-the-trip.html#cb45-32"></a>    out &lt;-<span class="st"> </span><span class="kw">process_row</span>(df,out, <span class="st">&#39;RTSB_B&#39;</span>,<span class="st">&#39;P2P&#39;</span>,i)</span>
<span id="cb45-33"><a href="ranking-carsharing-based-on-the-type-of-the-trip.html#cb45-33"></a>    out &lt;-<span class="st"> </span><span class="kw">process_row</span>(df,out, <span class="st">&#39;RTSB_B&#39;</span>,<span class="st">&#39;RTSB_A&#39;</span>,i)</span>
<span id="cb45-34"><a href="ranking-carsharing-based-on-the-type-of-the-trip.html#cb45-34"></a>  </span>
<span id="cb45-35"><a href="ranking-carsharing-based-on-the-type-of-the-trip.html#cb45-35"></a>    out &lt;-<span class="st"> </span><span class="kw">process_row</span>(df,out, <span class="st">&#39;P2P&#39;</span>,<span class="st">&#39;RTSB_A&#39;</span>,i)</span>
<span id="cb45-36"><a href="ranking-carsharing-based-on-the-type-of-the-trip.html#cb45-36"></a>  }</span>
<span id="cb45-37"><a href="ranking-carsharing-based-on-the-type-of-the-trip.html#cb45-37"></a>  <span class="kw">return</span>(out)</span>
<span id="cb45-38"><a href="ranking-carsharing-based-on-the-type-of-the-trip.html#cb45-38"></a>}</span></code></pre></div>
</div>
<div id="number-of-people-registered-in-at-least-2-companies" class="section level2">
<h2><span class="header-section-number">4.3</span> Number of people registered in at least 2 companies</h2>
<p>Here we just calculate how many people are registered in at least 2-5 companies (among all users)</p>
<div class="sourceCode" id="cb46"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb46-1"><a href="ranking-carsharing-based-on-the-type-of-the-trip.html#cb46-1"></a>d_registered_in_<span class="dv">2</span>&lt;-<span class="st"> </span>d <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb46-2"><a href="ranking-carsharing-based-on-the-type-of-the-trip.html#cb46-2"></a><span class="st">  </span><span class="kw">select</span>(anbiet1, anbiet2, anbiet3, anbiet4, anbiet5, anbiet6) <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb46-3"><a href="ranking-carsharing-based-on-the-type-of-the-trip.html#cb46-3"></a><span class="st">  </span><span class="kw">filter</span>(<span class="op">!</span><span class="kw">is.na</span>(anbiet1)<span class="op">&amp;!</span><span class="kw">is.na</span>(anbiet2))</span>
<span id="cb46-4"><a href="ranking-carsharing-based-on-the-type-of-the-trip.html#cb46-4"></a></span>
<span id="cb46-5"><a href="ranking-carsharing-based-on-the-type-of-the-trip.html#cb46-5"></a></span>
<span id="cb46-6"><a href="ranking-carsharing-based-on-the-type-of-the-trip.html#cb46-6"></a><span class="kw">cat</span>(<span class="st">&#39;There are:&#39;</span>, <span class="kw">nrow</span>(d_registered_in_<span class="dv">2</span>), <span class="st">&#39; registered in at least 2 companies</span><span class="ch">\n</span><span class="st">&#39;</span>)</span></code></pre></div>
<pre><code>## There are: 447  registered in at least 2 companies</code></pre>
<div class="sourceCode" id="cb48"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb48-1"><a href="ranking-carsharing-based-on-the-type-of-the-trip.html#cb48-1"></a>d_registered_in_<span class="dv">3</span> &lt;-<span class="st"> </span>d <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb48-2"><a href="ranking-carsharing-based-on-the-type-of-the-trip.html#cb48-2"></a><span class="st">  </span><span class="kw">select</span>(anbiet1, anbiet2, anbiet3, anbiet4, anbiet5, anbiet6) <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb48-3"><a href="ranking-carsharing-based-on-the-type-of-the-trip.html#cb48-3"></a><span class="st">  </span><span class="kw">filter</span>(<span class="op">!</span><span class="kw">is.na</span>(anbiet1)<span class="op">&amp;!</span><span class="kw">is.na</span>(anbiet2)<span class="op">&amp;!</span><span class="kw">is.na</span>(anbiet3))</span>
<span id="cb48-4"><a href="ranking-carsharing-based-on-the-type-of-the-trip.html#cb48-4"></a></span>
<span id="cb48-5"><a href="ranking-carsharing-based-on-the-type-of-the-trip.html#cb48-5"></a></span>
<span id="cb48-6"><a href="ranking-carsharing-based-on-the-type-of-the-trip.html#cb48-6"></a><span class="kw">cat</span>(<span class="st">&#39;There are:&#39;</span>, <span class="kw">nrow</span>(d_registered_in_<span class="dv">3</span>), <span class="st">&#39; registered in at least 3 companies</span><span class="ch">\n</span><span class="st">&#39;</span>)</span></code></pre></div>
<pre><code>## There are: 170  registered in at least 3 companies</code></pre>
<div class="sourceCode" id="cb50"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb50-1"><a href="ranking-carsharing-based-on-the-type-of-the-trip.html#cb50-1"></a>d_registered_in_<span class="dv">4</span> &lt;-<span class="st"> </span>d <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb50-2"><a href="ranking-carsharing-based-on-the-type-of-the-trip.html#cb50-2"></a><span class="st">  </span><span class="kw">select</span>(anbiet1, anbiet2, anbiet3, anbiet4, anbiet5, anbiet6) <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb50-3"><a href="ranking-carsharing-based-on-the-type-of-the-trip.html#cb50-3"></a><span class="st">  </span><span class="kw">filter</span>(<span class="op">!</span><span class="kw">is.na</span>(anbiet1)<span class="op">&amp;!</span><span class="kw">is.na</span>(anbiet2)<span class="op">&amp;!</span><span class="kw">is.na</span>(anbiet3)<span class="op">&amp;!</span><span class="kw">is.na</span>(anbiet4))</span>
<span id="cb50-4"><a href="ranking-carsharing-based-on-the-type-of-the-trip.html#cb50-4"></a></span>
<span id="cb50-5"><a href="ranking-carsharing-based-on-the-type-of-the-trip.html#cb50-5"></a><span class="kw">cat</span>(<span class="st">&#39;There are:&#39;</span>, <span class="kw">nrow</span>(d_registered_in_<span class="dv">4</span>), <span class="st">&#39; registered in at least 4 companies</span><span class="ch">\n</span><span class="st">&#39;</span>)</span></code></pre></div>
<pre><code>## There are: 48  registered in at least 4 companies</code></pre>
<div class="sourceCode" id="cb52"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb52-1"><a href="ranking-carsharing-based-on-the-type-of-the-trip.html#cb52-1"></a>d_registered_in_<span class="dv">5</span> &lt;-<span class="st"> </span>d <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb52-2"><a href="ranking-carsharing-based-on-the-type-of-the-trip.html#cb52-2"></a><span class="st">  </span><span class="kw">select</span>(anbiet1, anbiet2, anbiet3, anbiet4, anbiet5, anbiet6) <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb52-3"><a href="ranking-carsharing-based-on-the-type-of-the-trip.html#cb52-3"></a><span class="st">  </span><span class="kw">filter</span>(<span class="op">!</span><span class="kw">is.na</span>(anbiet1)<span class="op">&amp;!</span><span class="kw">is.na</span>(anbiet2)<span class="op">&amp;!</span><span class="kw">is.na</span>(anbiet3)<span class="op">&amp;!</span><span class="kw">is.na</span>(anbiet4)<span class="op">&amp;!</span><span class="kw">is.na</span>(anbiet5))</span>
<span id="cb52-4"><a href="ranking-carsharing-based-on-the-type-of-the-trip.html#cb52-4"></a></span>
<span id="cb52-5"><a href="ranking-carsharing-based-on-the-type-of-the-trip.html#cb52-5"></a><span class="kw">cat</span>(<span class="st">&#39;There are:&#39;</span>, <span class="kw">nrow</span>(d_registered_in_<span class="dv">5</span>), <span class="st">&#39; registered in at least 5 companies</span><span class="ch">\n</span><span class="st">&#39;</span>)</span></code></pre></div>
<pre><code>## There are: 10  registered in at least 5 companies</code></pre>
</div>
<div id="work-trips" class="section level2">
<h2><span class="header-section-number">4.4</span> Work trips</h2>
<div class="sourceCode" id="cb54"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb54-1"><a href="ranking-carsharing-based-on-the-type-of-the-trip.html#cb54-1"></a>d_work &lt;-<span class="st"> </span>d <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb54-2"><a href="ranking-carsharing-based-on-the-type-of-the-trip.html#cb54-2"></a><span class="st">  </span><span class="kw">select</span>(v22bnd_<span class="dv">1</span>,</span>
<span id="cb54-3"><a href="ranking-carsharing-based-on-the-type-of-the-trip.html#cb54-3"></a>         v22c2g_<span class="dv">1</span>,</span>
<span id="cb54-4"><a href="ranking-carsharing-based-on-the-type-of-the-trip.html#cb54-4"></a>         v22stamo,</span>
<span id="cb54-5"><a href="ranking-carsharing-based-on-the-type-of-the-trip.html#cb54-5"></a>         v22driv,</span>
<span id="cb54-6"><a href="ranking-carsharing-based-on-the-type-of-the-trip.html#cb54-6"></a>         v22cam_<span class="dv">1</span>) <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb54-7"><a href="ranking-carsharing-based-on-the-type-of-the-trip.html#cb54-7"></a><span class="st">  </span><span class="kw">rename</span>(<span class="st">&#39;COMB&#39;</span>=<span class="st">&#39;v22bnd_1&#39;</span>,</span>
<span id="cb54-8"><a href="ranking-carsharing-based-on-the-type-of-the-trip.html#cb54-8"></a>        <span class="st">&#39;FF&#39;</span> =<span class="st">&#39;v22c2g_1&#39;</span>,</span>
<span id="cb54-9"><a href="ranking-carsharing-based-on-the-type-of-the-trip.html#cb54-9"></a>        <span class="st">&#39;RTSB_B&#39;</span> =<span class="st"> &#39;v22stamo&#39;</span>,</span>
<span id="cb54-10"><a href="ranking-carsharing-based-on-the-type-of-the-trip.html#cb54-10"></a>        <span class="st">&#39;P2P&#39;</span> =<span class="st"> &#39;v22driv&#39;</span>,</span>
<span id="cb54-11"><a href="ranking-carsharing-based-on-the-type-of-the-trip.html#cb54-11"></a>        <span class="st">&#39;RTSB_A&#39;</span> =<span class="st"> &#39;v22cam_1&#39;</span>) <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb54-12"><a href="ranking-carsharing-based-on-the-type-of-the-trip.html#cb54-12"></a><span class="st">  </span><span class="kw">mutate</span>(<span class="dt">COMB =</span> <span class="kw">as.numeric</span>(COMB),</span>
<span id="cb54-13"><a href="ranking-carsharing-based-on-the-type-of-the-trip.html#cb54-13"></a>         <span class="dt">FF =</span> <span class="kw">as.numeric</span>(FF),</span>
<span id="cb54-14"><a href="ranking-carsharing-based-on-the-type-of-the-trip.html#cb54-14"></a>         <span class="dt">RTSB_B =</span> <span class="kw">as.numeric</span>(RTSB_B),</span>
<span id="cb54-15"><a href="ranking-carsharing-based-on-the-type-of-the-trip.html#cb54-15"></a>         <span class="dt">P2P =</span> <span class="kw">as.numeric</span>(P2P),</span>
<span id="cb54-16"><a href="ranking-carsharing-based-on-the-type-of-the-trip.html#cb54-16"></a>         <span class="dt">RTSB_A =</span> <span class="kw">as.numeric</span>(RTSB_A))</span></code></pre></div>
<p>Now lets convert this to paired comparison</p>
<div class="sourceCode" id="cb55"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb55-1"><a href="ranking-carsharing-based-on-the-type-of-the-trip.html#cb55-1"></a>d_work_pc &lt;-<span class="st"> </span><span class="kw">convert2pairedcomp</span>(d_work)</span>
<span id="cb55-2"><a href="ranking-carsharing-based-on-the-type-of-the-trip.html#cb55-2"></a><span class="kw">cat</span>(<span class="kw">length</span>(<span class="kw">unique</span>(d_work_pc<span class="op">$</span>user)), <span class="st">&#39; evaluated at least two companies&#39;</span>)</span></code></pre></div>
<pre><code>## 252  evaluated at least two companies</code></pre>
<div class="sourceCode" id="cb57"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb57-1"><a href="ranking-carsharing-based-on-the-type-of-the-trip.html#cb57-1"></a>m_work &lt;-<span class="st"> </span><span class="kw">bpc</span>(d_work_pc,</span>
<span id="cb57-2"><a href="ranking-carsharing-based-on-the-type-of-the-trip.html#cb57-2"></a>             <span class="dt">player0 =</span> <span class="st">&#39;company0&#39;</span>, </span>
<span id="cb57-3"><a href="ranking-carsharing-based-on-the-type-of-the-trip.html#cb57-3"></a>             <span class="dt">player1=</span><span class="st">&#39;company1&#39;</span>, </span>
<span id="cb57-4"><a href="ranking-carsharing-based-on-the-type-of-the-trip.html#cb57-4"></a>             <span class="dt">result_column =</span> <span class="st">&#39;win&#39;</span>, </span>
<span id="cb57-5"><a href="ranking-carsharing-based-on-the-type-of-the-trip.html#cb57-5"></a>             <span class="dt">model_type =</span> <span class="st">&#39;bt&#39;</span>)</span>
<span id="cb57-6"><a href="ranking-carsharing-based-on-the-type-of-the-trip.html#cb57-6"></a><span class="kw">saveRDS</span>(m_work,<span class="dt">file =</span> <span class="st">&#39;models/m_work.RDS&#39;</span>)</span></code></pre></div>
<div class="sourceCode" id="cb58"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb58-1"><a href="ranking-carsharing-based-on-the-type-of-the-trip.html#cb58-1"></a><span class="kw">plot</span>(m_work)</span></code></pre></div>
<p><img src="carsharing-appendix_files/figure-html/unnamed-chunk-37-1.png" width="672" /></p>
<div class="sourceCode" id="cb59"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb59-1"><a href="ranking-carsharing-based-on-the-type-of-the-trip.html#cb59-1"></a><span class="kw">summary</span>(m_work)</span></code></pre></div>
<pre><code>## Estimated baseline parameters with 95% HPD intervals:
## 
## Table: (\#tab:unnamed-chunk-38)Parameters estimates
## 
## Parameter          Mean   Median   HPD_lower   HPD_higher
## ---------------  ------  -------  ----------  -----------
## lambda[COMB]      -0.05    -0.08       -2.59         2.88
## lambda[FF]         0.57     0.54       -1.86         3.59
## lambda[RTSB_B]    -0.27    -0.29       -2.96         2.52
## lambda[P2P]       -0.28    -0.29       -3.03         2.47
## lambda[RTSB_A]     0.04     0.03       -2.59         2.94
## NOTES:
## * A higher lambda indicates a higher team ability
## 
## Posterior probabilities:
## These probabilities are calculated from the predictive posterior distribution
## for all player combinations
## 
## 
## Table: (\#tab:unnamed-chunk-38)Estimated posterior probabilites
## 
## i        j         i_beats_j   j_beats_i
## -------  -------  ----------  ----------
## COMB     FF             0.35        0.65
## COMB     P2P            0.54        0.46
## COMB     RTSB_A         0.44        0.56
## COMB     RTSB_B         0.60        0.40
## FF       P2P            0.66        0.34
## FF       RTSB_A         0.62        0.38
## FF       RTSB_B         0.69        0.31
## P2P      RTSB_A         0.37        0.63
## P2P      RTSB_B         0.60        0.40
## RTSB_A   RTSB_B         0.64        0.36
## 
## Rank of the players&#39; abilities:
## The rank is based on the posterior rank distribution of the lambda parameter
## 
## Table: (\#tab:unnamed-chunk-38)Estimated posterior ranks
## 
## Parameter    MedianRank   MeanRank   StdRank
## ----------  -----------  ---------  --------
## FF                    1       1.06      0.24
## RTSB_A                2       2.72      1.08
## COMB                  3       3.07      0.95
## P2P                   4       4.10      0.94
## RTSB_B                4       4.05      0.92</code></pre>
</div>
<div id="going-out-for-dinner-trips" class="section level2">
<h2><span class="header-section-number">4.5</span> Going out for dinner trips</h2>
<div class="sourceCode" id="cb61"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb61-1"><a href="ranking-carsharing-based-on-the-type-of-the-trip.html#cb61-1"></a>d_dinner &lt;-<span class="st"> </span>d <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb61-2"><a href="ranking-carsharing-based-on-the-type-of-the-trip.html#cb61-2"></a><span class="st">  </span><span class="kw">select</span>(v22bnd_<span class="dv">2</span>,</span>
<span id="cb61-3"><a href="ranking-carsharing-based-on-the-type-of-the-trip.html#cb61-3"></a>         v22c2g_<span class="dv">2</span>,</span>
<span id="cb61-4"><a href="ranking-carsharing-based-on-the-type-of-the-trip.html#cb61-4"></a>         v158_a,</span>
<span id="cb61-5"><a href="ranking-carsharing-based-on-the-type-of-the-trip.html#cb61-5"></a>         v164_a,</span>
<span id="cb61-6"><a href="ranking-carsharing-based-on-the-type-of-the-trip.html#cb61-6"></a>         v22cam_<span class="dv">2</span>) <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb61-7"><a href="ranking-carsharing-based-on-the-type-of-the-trip.html#cb61-7"></a><span class="st">  </span><span class="kw">rename</span>(<span class="st">&#39;COMB&#39;</span>=<span class="st">&#39;v22bnd_2&#39;</span>,</span>
<span id="cb61-8"><a href="ranking-carsharing-based-on-the-type-of-the-trip.html#cb61-8"></a>        <span class="st">&#39;FF&#39;</span> =<span class="st">&#39;v22c2g_2&#39;</span>,</span>
<span id="cb61-9"><a href="ranking-carsharing-based-on-the-type-of-the-trip.html#cb61-9"></a>        <span class="st">&#39;RTSB_B&#39;</span> =<span class="st"> &#39;v158_a&#39;</span>,</span>
<span id="cb61-10"><a href="ranking-carsharing-based-on-the-type-of-the-trip.html#cb61-10"></a>        <span class="st">&#39;P2P&#39;</span> =<span class="st"> &#39;v164_a&#39;</span>,</span>
<span id="cb61-11"><a href="ranking-carsharing-based-on-the-type-of-the-trip.html#cb61-11"></a>        <span class="st">&#39;RTSB_A&#39;</span> =<span class="st"> &#39;v22cam_2&#39;</span>) <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb61-12"><a href="ranking-carsharing-based-on-the-type-of-the-trip.html#cb61-12"></a><span class="st">  </span><span class="kw">mutate</span>(<span class="dt">COMB =</span> <span class="kw">as.numeric</span>(COMB),</span>
<span id="cb61-13"><a href="ranking-carsharing-based-on-the-type-of-the-trip.html#cb61-13"></a>         <span class="dt">FF =</span> <span class="kw">as.numeric</span>(FF),</span>
<span id="cb61-14"><a href="ranking-carsharing-based-on-the-type-of-the-trip.html#cb61-14"></a>         <span class="dt">RTSB_B =</span> <span class="kw">as.numeric</span>(RTSB_B),</span>
<span id="cb61-15"><a href="ranking-carsharing-based-on-the-type-of-the-trip.html#cb61-15"></a>         <span class="dt">P2P =</span> <span class="kw">as.numeric</span>(P2P),</span>
<span id="cb61-16"><a href="ranking-carsharing-based-on-the-type-of-the-trip.html#cb61-16"></a>         <span class="dt">RTSB_A =</span> <span class="kw">as.numeric</span>(RTSB_A))</span></code></pre></div>
<p>Now lets convert this to paired comparison</p>
<div class="sourceCode" id="cb62"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb62-1"><a href="ranking-carsharing-based-on-the-type-of-the-trip.html#cb62-1"></a>d_dinner_pc &lt;-<span class="st"> </span><span class="kw">convert2pairedcomp</span>(d_dinner)</span></code></pre></div>
<div class="sourceCode" id="cb63"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb63-1"><a href="ranking-carsharing-based-on-the-type-of-the-trip.html#cb63-1"></a>m_dinner &lt;-<span class="st"> </span><span class="kw">bpc</span>(d_dinner_pc,</span>
<span id="cb63-2"><a href="ranking-carsharing-based-on-the-type-of-the-trip.html#cb63-2"></a>             <span class="dt">player0 =</span> <span class="st">&#39;company0&#39;</span>, </span>
<span id="cb63-3"><a href="ranking-carsharing-based-on-the-type-of-the-trip.html#cb63-3"></a>             <span class="dt">player1=</span><span class="st">&#39;company1&#39;</span>, </span>
<span id="cb63-4"><a href="ranking-carsharing-based-on-the-type-of-the-trip.html#cb63-4"></a>             <span class="dt">result_column =</span> <span class="st">&#39;win&#39;</span>, </span>
<span id="cb63-5"><a href="ranking-carsharing-based-on-the-type-of-the-trip.html#cb63-5"></a>             <span class="dt">model_type =</span> <span class="st">&#39;bt&#39;</span>)</span>
<span id="cb63-6"><a href="ranking-carsharing-based-on-the-type-of-the-trip.html#cb63-6"></a><span class="kw">saveRDS</span>(m_dinner,<span class="dt">file =</span> <span class="st">&#39;models/m_dinner.RDS&#39;</span>)</span></code></pre></div>
<div class="sourceCode" id="cb64"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb64-1"><a href="ranking-carsharing-based-on-the-type-of-the-trip.html#cb64-1"></a><span class="kw">plot</span>(m_dinner)</span></code></pre></div>
<p><img src="carsharing-appendix_files/figure-html/unnamed-chunk-43-1.png" width="672" /></p>
<div class="sourceCode" id="cb65"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb65-1"><a href="ranking-carsharing-based-on-the-type-of-the-trip.html#cb65-1"></a><span class="kw">summary</span>(m_dinner)</span></code></pre></div>
<pre><code>## Estimated baseline parameters with 95% HPD intervals:
## 
## Table: (\#tab:unnamed-chunk-44)Parameters estimates
## 
## Parameter          Mean   Median   HPD_lower   HPD_higher
## ---------------  ------  -------  ----------  -----------
## lambda[COMB]       0.21     0.20       -2.42         2.70
## lambda[FF]         0.83     0.81       -1.64         3.51
## lambda[RTSB_B]    -0.30    -0.32       -2.76         2.39
## lambda[P2P]       -0.59    -0.60       -3.21         1.95
## lambda[RTSB_A]    -0.30    -0.31       -2.99         2.19
## NOTES:
## * A higher lambda indicates a higher team ability
## 
## Posterior probabilities:
## These probabilities are calculated from the predictive posterior distribution
## for all player combinations
## 
## 
## Table: (\#tab:unnamed-chunk-44)Estimated posterior probabilites
## 
## i        j         i_beats_j   j_beats_i
## -------  -------  ----------  ----------
## COMB     FF             0.37        0.63
## COMB     P2P            0.72        0.28
## COMB     RTSB_A         0.60        0.40
## COMB     RTSB_B         0.60        0.40
## FF       P2P            0.84        0.16
## FF       RTSB_A         0.66        0.34
## FF       RTSB_B         0.80        0.20
## P2P      RTSB_A         0.52        0.48
## P2P      RTSB_B         0.41        0.59
## RTSB_A   RTSB_B         0.48        0.52
## 
## Rank of the players&#39; abilities:
## The rank is based on the posterior rank distribution of the lambda parameter
## 
## Table: (\#tab:unnamed-chunk-44)Estimated posterior ranks
## 
## Parameter    MedianRank   MeanRank   StdRank
## ----------  -----------  ---------  --------
## FF                    1       1.01      0.09
## COMB                  2       2.15      0.43
## RTSB_A                4       3.58      0.89
## RTSB_B                4       3.71      0.77
## P2P                   5       4.55      0.68</code></pre>
</div>
<div id="daily-shopping-trips" class="section level2">
<h2><span class="header-section-number">4.6</span> Daily-shopping trips</h2>
<div class="sourceCode" id="cb67"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb67-1"><a href="ranking-carsharing-based-on-the-type-of-the-trip.html#cb67-1"></a>d_shopdaily &lt;-<span class="st"> </span>d <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb67-2"><a href="ranking-carsharing-based-on-the-type-of-the-trip.html#cb67-2"></a><span class="st">  </span><span class="kw">select</span>(v22bnd_<span class="dv">3</span>,</span>
<span id="cb67-3"><a href="ranking-carsharing-based-on-the-type-of-the-trip.html#cb67-3"></a>         v22c2g_<span class="dv">3</span>,</span>
<span id="cb67-4"><a href="ranking-carsharing-based-on-the-type-of-the-trip.html#cb67-4"></a>         v159_a,</span>
<span id="cb67-5"><a href="ranking-carsharing-based-on-the-type-of-the-trip.html#cb67-5"></a>         v165_a,</span>
<span id="cb67-6"><a href="ranking-carsharing-based-on-the-type-of-the-trip.html#cb67-6"></a>         v22cam_<span class="dv">3</span>) <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb67-7"><a href="ranking-carsharing-based-on-the-type-of-the-trip.html#cb67-7"></a><span class="st">  </span><span class="kw">rename</span>(<span class="st">&#39;COMB&#39;</span>=<span class="st">&#39;v22bnd_3&#39;</span>,</span>
<span id="cb67-8"><a href="ranking-carsharing-based-on-the-type-of-the-trip.html#cb67-8"></a>        <span class="st">&#39;FF&#39;</span> =<span class="st">&#39;v22c2g_3&#39;</span>,</span>
<span id="cb67-9"><a href="ranking-carsharing-based-on-the-type-of-the-trip.html#cb67-9"></a>        <span class="st">&#39;RTSB_B&#39;</span> =<span class="st"> &#39;v159_a&#39;</span>,</span>
<span id="cb67-10"><a href="ranking-carsharing-based-on-the-type-of-the-trip.html#cb67-10"></a>        <span class="st">&#39;P2P&#39;</span> =<span class="st"> &#39;v165_a&#39;</span>,</span>
<span id="cb67-11"><a href="ranking-carsharing-based-on-the-type-of-the-trip.html#cb67-11"></a>        <span class="st">&#39;RTSB_A&#39;</span> =<span class="st"> &#39;v22cam_3&#39;</span>) <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb67-12"><a href="ranking-carsharing-based-on-the-type-of-the-trip.html#cb67-12"></a><span class="st">  </span><span class="kw">mutate</span>(<span class="dt">COMB =</span> <span class="kw">as.numeric</span>(COMB),</span>
<span id="cb67-13"><a href="ranking-carsharing-based-on-the-type-of-the-trip.html#cb67-13"></a>         <span class="dt">FF =</span> <span class="kw">as.numeric</span>(FF),</span>
<span id="cb67-14"><a href="ranking-carsharing-based-on-the-type-of-the-trip.html#cb67-14"></a>         <span class="dt">RTSB_B =</span> <span class="kw">as.numeric</span>(RTSB_B),</span>
<span id="cb67-15"><a href="ranking-carsharing-based-on-the-type-of-the-trip.html#cb67-15"></a>         <span class="dt">P2P =</span> <span class="kw">as.numeric</span>(P2P),</span>
<span id="cb67-16"><a href="ranking-carsharing-based-on-the-type-of-the-trip.html#cb67-16"></a>         <span class="dt">RTSB_A =</span> <span class="kw">as.numeric</span>(RTSB_A))</span></code></pre></div>
<p>Now lets convert this to paired comparison</p>
<div class="sourceCode" id="cb68"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb68-1"><a href="ranking-carsharing-based-on-the-type-of-the-trip.html#cb68-1"></a>d_shopdaily_pc &lt;-<span class="st"> </span><span class="kw">convert2pairedcomp</span>(d_shopdaily)</span>
<span id="cb68-2"><a href="ranking-carsharing-based-on-the-type-of-the-trip.html#cb68-2"></a><span class="kw">cat</span>(<span class="kw">length</span>(<span class="kw">unique</span>(d_shopdaily_pc<span class="op">$</span>user)), <span class="st">&#39; evaluated at least two companies&#39;</span>)</span></code></pre></div>
<pre><code>## 252  evaluated at least two companies</code></pre>
<div class="sourceCode" id="cb70"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb70-1"><a href="ranking-carsharing-based-on-the-type-of-the-trip.html#cb70-1"></a>m_shopdaily &lt;-<span class="st"> </span><span class="kw">bpc</span>(d_shopdaily_pc,</span>
<span id="cb70-2"><a href="ranking-carsharing-based-on-the-type-of-the-trip.html#cb70-2"></a>             <span class="dt">player0 =</span> <span class="st">&#39;company0&#39;</span>, </span>
<span id="cb70-3"><a href="ranking-carsharing-based-on-the-type-of-the-trip.html#cb70-3"></a>             <span class="dt">player1=</span><span class="st">&#39;company1&#39;</span>, </span>
<span id="cb70-4"><a href="ranking-carsharing-based-on-the-type-of-the-trip.html#cb70-4"></a>             <span class="dt">result_column =</span> <span class="st">&#39;win&#39;</span>, </span>
<span id="cb70-5"><a href="ranking-carsharing-based-on-the-type-of-the-trip.html#cb70-5"></a>             <span class="dt">model_type =</span> <span class="st">&#39;bt&#39;</span>)</span>
<span id="cb70-6"><a href="ranking-carsharing-based-on-the-type-of-the-trip.html#cb70-6"></a><span class="kw">saveRDS</span>(m_shopdaily,<span class="dt">file =</span> <span class="st">&#39;models/m_shopdaily.RDS&#39;</span>)</span></code></pre></div>
<div class="sourceCode" id="cb71"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb71-1"><a href="ranking-carsharing-based-on-the-type-of-the-trip.html#cb71-1"></a><span class="kw">plot</span>(m_shopdaily)</span></code></pre></div>
<p><img src="carsharing-appendix_files/figure-html/unnamed-chunk-49-1.png" width="672" /></p>
<div class="sourceCode" id="cb72"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb72-1"><a href="ranking-carsharing-based-on-the-type-of-the-trip.html#cb72-1"></a><span class="kw">summary</span>(m_shopdaily)</span></code></pre></div>
<pre><code>## Estimated baseline parameters with 95% HPD intervals:
## 
## Table: (\#tab:unnamed-chunk-50)Parameters estimates
## 
## Parameter          Mean   Median   HPD_lower   HPD_higher
## ---------------  ------  -------  ----------  -----------
## lambda[COMB]       0.55     0.55       -2.08         2.92
## lambda[FF]         0.25     0.26       -2.25         2.71
## lambda[RTSB_B]     0.18     0.17       -2.35         2.61
## lambda[P2P]       -0.83    -0.83       -3.38         1.57
## lambda[RTSB_A]     0.21     0.23       -2.41         2.61
## NOTES:
## * A higher lambda indicates a higher team ability
## 
## Posterior probabilities:
## These probabilities are calculated from the predictive posterior distribution
## for all player combinations
## 
## 
## Table: (\#tab:unnamed-chunk-50)Estimated posterior probabilites
## 
## i        j         i_beats_j   j_beats_i
## -------  -------  ----------  ----------
## COMB     FF             0.62        0.38
## COMB     P2P            0.77        0.23
## COMB     RTSB_A         0.65        0.35
## COMB     RTSB_B         0.61        0.39
## FF       P2P            0.76        0.24
## FF       RTSB_A         0.53        0.47
## FF       RTSB_B         0.51        0.49
## P2P      RTSB_A         0.24        0.76
## P2P      RTSB_B         0.31        0.69
## RTSB_A   RTSB_B         0.54        0.46
## 
## Rank of the players&#39; abilities:
## The rank is based on the posterior rank distribution of the lambda parameter
## 
## Table: (\#tab:unnamed-chunk-50)Estimated posterior ranks
## 
## Parameter    MedianRank   MeanRank   StdRank
## ----------  -----------  ---------  --------
## COMB                  1       1.37      0.71
## FF                    3       2.71      0.78
## RTSB_A                3       2.82      1.14
## RTSB_B                3       3.11      0.89
## P2P                   5       5.00      0.04</code></pre>
</div>
<div id="bulk-shopping-trips" class="section level2">
<h2><span class="header-section-number">4.7</span> Bulk shopping trips</h2>
<div class="sourceCode" id="cb74"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb74-1"><a href="ranking-carsharing-based-on-the-type-of-the-trip.html#cb74-1"></a>d_shopbulk &lt;-<span class="st"> </span>d <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb74-2"><a href="ranking-carsharing-based-on-the-type-of-the-trip.html#cb74-2"></a><span class="st">  </span><span class="kw">select</span>(v22bnd_<span class="dv">4</span>,</span>
<span id="cb74-3"><a href="ranking-carsharing-based-on-the-type-of-the-trip.html#cb74-3"></a>         v22c2g_<span class="dv">4</span>,</span>
<span id="cb74-4"><a href="ranking-carsharing-based-on-the-type-of-the-trip.html#cb74-4"></a>         v160_a,</span>
<span id="cb74-5"><a href="ranking-carsharing-based-on-the-type-of-the-trip.html#cb74-5"></a>         v166_a,</span>
<span id="cb74-6"><a href="ranking-carsharing-based-on-the-type-of-the-trip.html#cb74-6"></a>         v22cam_<span class="dv">4</span>) <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb74-7"><a href="ranking-carsharing-based-on-the-type-of-the-trip.html#cb74-7"></a><span class="st">  </span><span class="kw">rename</span>(<span class="st">&#39;COMB&#39;</span>=<span class="st">&#39;v22bnd_4&#39;</span>,</span>
<span id="cb74-8"><a href="ranking-carsharing-based-on-the-type-of-the-trip.html#cb74-8"></a>        <span class="st">&#39;FF&#39;</span> =<span class="st">&#39;v22c2g_4&#39;</span>,</span>
<span id="cb74-9"><a href="ranking-carsharing-based-on-the-type-of-the-trip.html#cb74-9"></a>        <span class="st">&#39;RTSB_B&#39;</span> =<span class="st"> &#39;v160_a&#39;</span>,</span>
<span id="cb74-10"><a href="ranking-carsharing-based-on-the-type-of-the-trip.html#cb74-10"></a>        <span class="st">&#39;P2P&#39;</span> =<span class="st"> &#39;v166_a&#39;</span>,</span>
<span id="cb74-11"><a href="ranking-carsharing-based-on-the-type-of-the-trip.html#cb74-11"></a>        <span class="st">&#39;RTSB_A&#39;</span> =<span class="st"> &#39;v22cam_4&#39;</span>) <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb74-12"><a href="ranking-carsharing-based-on-the-type-of-the-trip.html#cb74-12"></a><span class="st">  </span><span class="kw">mutate</span>(<span class="dt">COMB =</span> <span class="kw">as.numeric</span>(COMB),</span>
<span id="cb74-13"><a href="ranking-carsharing-based-on-the-type-of-the-trip.html#cb74-13"></a>         <span class="dt">FF =</span> <span class="kw">as.numeric</span>(FF),</span>
<span id="cb74-14"><a href="ranking-carsharing-based-on-the-type-of-the-trip.html#cb74-14"></a>         <span class="dt">RTSB_B =</span> <span class="kw">as.numeric</span>(RTSB_B),</span>
<span id="cb74-15"><a href="ranking-carsharing-based-on-the-type-of-the-trip.html#cb74-15"></a>         <span class="dt">P2P =</span> <span class="kw">as.numeric</span>(P2P),</span>
<span id="cb74-16"><a href="ranking-carsharing-based-on-the-type-of-the-trip.html#cb74-16"></a>         <span class="dt">RTSB_A =</span> <span class="kw">as.numeric</span>(RTSB_A))</span></code></pre></div>
<p>Now lets convert this to paired comparison</p>
<div class="sourceCode" id="cb75"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb75-1"><a href="ranking-carsharing-based-on-the-type-of-the-trip.html#cb75-1"></a>d_shopbulk_pc &lt;-<span class="st"> </span><span class="kw">convert2pairedcomp</span>(d_shopbulk)</span>
<span id="cb75-2"><a href="ranking-carsharing-based-on-the-type-of-the-trip.html#cb75-2"></a><span class="kw">cat</span>(<span class="kw">length</span>(<span class="kw">unique</span>(d_shopbulk_pc<span class="op">$</span>user)), <span class="st">&#39; evaluated at least two companies&#39;</span>)</span></code></pre></div>
<pre><code>## 252  evaluated at least two companies</code></pre>
<div class="sourceCode" id="cb77"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb77-1"><a href="ranking-carsharing-based-on-the-type-of-the-trip.html#cb77-1"></a>m_shopbulk &lt;-<span class="st"> </span><span class="kw">bpc</span>(d_shopbulk_pc,</span>
<span id="cb77-2"><a href="ranking-carsharing-based-on-the-type-of-the-trip.html#cb77-2"></a>             <span class="dt">player0 =</span> <span class="st">&#39;company0&#39;</span>, </span>
<span id="cb77-3"><a href="ranking-carsharing-based-on-the-type-of-the-trip.html#cb77-3"></a>             <span class="dt">player1=</span><span class="st">&#39;company1&#39;</span>, </span>
<span id="cb77-4"><a href="ranking-carsharing-based-on-the-type-of-the-trip.html#cb77-4"></a>             <span class="dt">result_column =</span> <span class="st">&#39;win&#39;</span>, </span>
<span id="cb77-5"><a href="ranking-carsharing-based-on-the-type-of-the-trip.html#cb77-5"></a>             <span class="dt">model_type =</span> <span class="st">&#39;bt&#39;</span>)</span>
<span id="cb77-6"><a href="ranking-carsharing-based-on-the-type-of-the-trip.html#cb77-6"></a><span class="kw">saveRDS</span>(m_shopbulk,<span class="dt">file =</span> <span class="st">&#39;models/m_shopbulk.RDS&#39;</span>)</span></code></pre></div>
<div class="sourceCode" id="cb78"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb78-1"><a href="ranking-carsharing-based-on-the-type-of-the-trip.html#cb78-1"></a><span class="kw">plot</span>(m_shopbulk)</span></code></pre></div>
<p><img src="carsharing-appendix_files/figure-html/unnamed-chunk-55-1.png" width="672" /></p>
<div class="sourceCode" id="cb79"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb79-1"><a href="ranking-carsharing-based-on-the-type-of-the-trip.html#cb79-1"></a><span class="kw">summary</span>(m_shopbulk)</span></code></pre></div>
<pre><code>## Estimated baseline parameters with 95% HPD intervals:
## 
## Table: (\#tab:unnamed-chunk-56)Parameters estimates
## 
## Parameter          Mean   Median   HPD_lower   HPD_higher
## ---------------  ------  -------  ----------  -----------
## lambda[COMB]       0.31     0.32       -2.20         2.93
## lambda[FF]        -0.84    -0.83       -3.31         1.75
## lambda[RTSB_B]     1.00     1.01       -1.50         3.60
## lambda[P2P]       -0.73    -0.72       -3.25         1.83
## lambda[RTSB_A]     0.26     0.28       -2.38         2.77
## NOTES:
## * A higher lambda indicates a higher team ability
## 
## Posterior probabilities:
## These probabilities are calculated from the predictive posterior distribution
## for all player combinations
## 
## 
## Table: (\#tab:unnamed-chunk-56)Estimated posterior probabilites
## 
## i        j         i_beats_j   j_beats_i
## -------  -------  ----------  ----------
## COMB     FF             0.76        0.24
## COMB     P2P            0.71        0.29
## COMB     RTSB_A         0.47        0.53
## COMB     RTSB_B         0.36        0.64
## FF       P2P            0.46        0.54
## FF       RTSB_A         0.25        0.75
## FF       RTSB_B         0.15        0.85
## P2P      RTSB_A         0.23        0.77
## P2P      RTSB_B         0.13        0.87
## RTSB_A   RTSB_B         0.33        0.67
## 
## Rank of the players&#39; abilities:
## The rank is based on the posterior rank distribution of the lambda parameter
## 
## Table: (\#tab:unnamed-chunk-56)Estimated posterior ranks
## 
## Parameter    MedianRank   MeanRank   StdRank
## ----------  -----------  ---------  --------
## RTSB_B                1       1.05      0.22
## COMB                  2       2.45      0.51
## RTSB_A                3       2.50      0.58
## P2P                   4       4.31      0.47
## FF                    5       4.69      0.46</code></pre>
</div>
<div id="recreational-activity-trips" class="section level2">
<h2><span class="header-section-number">4.8</span> Recreational activity trips</h2>
<div class="sourceCode" id="cb81"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb81-1"><a href="ranking-carsharing-based-on-the-type-of-the-trip.html#cb81-1"></a>d_recreational &lt;-<span class="st"> </span>d <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb81-2"><a href="ranking-carsharing-based-on-the-type-of-the-trip.html#cb81-2"></a><span class="st">  </span><span class="kw">select</span>(v22bnd_<span class="dv">5</span>,</span>
<span id="cb81-3"><a href="ranking-carsharing-based-on-the-type-of-the-trip.html#cb81-3"></a>         v22c2g_<span class="dv">5</span>,</span>
<span id="cb81-4"><a href="ranking-carsharing-based-on-the-type-of-the-trip.html#cb81-4"></a>         v161_a,</span>
<span id="cb81-5"><a href="ranking-carsharing-based-on-the-type-of-the-trip.html#cb81-5"></a>         v167_a,</span>
<span id="cb81-6"><a href="ranking-carsharing-based-on-the-type-of-the-trip.html#cb81-6"></a>         v22cam_<span class="dv">5</span>) <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb81-7"><a href="ranking-carsharing-based-on-the-type-of-the-trip.html#cb81-7"></a><span class="st">  </span><span class="kw">rename</span>(<span class="st">&#39;COMB&#39;</span>=<span class="st">&#39;v22bnd_5&#39;</span>,</span>
<span id="cb81-8"><a href="ranking-carsharing-based-on-the-type-of-the-trip.html#cb81-8"></a>        <span class="st">&#39;FF&#39;</span> =<span class="st">&#39;v22c2g_5&#39;</span>,</span>
<span id="cb81-9"><a href="ranking-carsharing-based-on-the-type-of-the-trip.html#cb81-9"></a>        <span class="st">&#39;RTSB_B&#39;</span> =<span class="st"> &#39;v161_a&#39;</span>,</span>
<span id="cb81-10"><a href="ranking-carsharing-based-on-the-type-of-the-trip.html#cb81-10"></a>        <span class="st">&#39;P2P&#39;</span> =<span class="st"> &#39;v167_a&#39;</span>,</span>
<span id="cb81-11"><a href="ranking-carsharing-based-on-the-type-of-the-trip.html#cb81-11"></a>        <span class="st">&#39;RTSB_A&#39;</span> =<span class="st"> &#39;v22cam_5&#39;</span>) <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb81-12"><a href="ranking-carsharing-based-on-the-type-of-the-trip.html#cb81-12"></a><span class="st">  </span><span class="kw">mutate</span>(<span class="dt">COMB =</span> <span class="kw">as.numeric</span>(COMB),</span>
<span id="cb81-13"><a href="ranking-carsharing-based-on-the-type-of-the-trip.html#cb81-13"></a>         <span class="dt">FF =</span> <span class="kw">as.numeric</span>(FF),</span>
<span id="cb81-14"><a href="ranking-carsharing-based-on-the-type-of-the-trip.html#cb81-14"></a>         <span class="dt">RTSB_B =</span> <span class="kw">as.numeric</span>(RTSB_B),</span>
<span id="cb81-15"><a href="ranking-carsharing-based-on-the-type-of-the-trip.html#cb81-15"></a>         <span class="dt">P2P =</span> <span class="kw">as.numeric</span>(P2P),</span>
<span id="cb81-16"><a href="ranking-carsharing-based-on-the-type-of-the-trip.html#cb81-16"></a>         <span class="dt">RTSB_A =</span> <span class="kw">as.numeric</span>(RTSB_A))</span></code></pre></div>
<p>Now lets convert this to paired comparison</p>
<div class="sourceCode" id="cb82"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb82-1"><a href="ranking-carsharing-based-on-the-type-of-the-trip.html#cb82-1"></a>d_recreational_pc &lt;-<span class="st"> </span><span class="kw">convert2pairedcomp</span>(d_recreational)</span>
<span id="cb82-2"><a href="ranking-carsharing-based-on-the-type-of-the-trip.html#cb82-2"></a><span class="kw">cat</span>(<span class="kw">length</span>(<span class="kw">unique</span>(d_recreational_pc<span class="op">$</span>user)), <span class="st">&#39; evaluated at least two companies&#39;</span>)</span></code></pre></div>
<pre><code>## 252  evaluated at least two companies</code></pre>
<div class="sourceCode" id="cb84"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb84-1"><a href="ranking-carsharing-based-on-the-type-of-the-trip.html#cb84-1"></a>m_recreational &lt;-<span class="st"> </span><span class="kw">bpc</span>(d_recreational_pc,</span>
<span id="cb84-2"><a href="ranking-carsharing-based-on-the-type-of-the-trip.html#cb84-2"></a>             <span class="dt">player0 =</span> <span class="st">&#39;company0&#39;</span>, </span>
<span id="cb84-3"><a href="ranking-carsharing-based-on-the-type-of-the-trip.html#cb84-3"></a>             <span class="dt">player1=</span><span class="st">&#39;company1&#39;</span>, </span>
<span id="cb84-4"><a href="ranking-carsharing-based-on-the-type-of-the-trip.html#cb84-4"></a>             <span class="dt">result_column =</span> <span class="st">&#39;win&#39;</span>, </span>
<span id="cb84-5"><a href="ranking-carsharing-based-on-the-type-of-the-trip.html#cb84-5"></a>             <span class="dt">model_type =</span> <span class="st">&#39;bt&#39;</span>)</span>
<span id="cb84-6"><a href="ranking-carsharing-based-on-the-type-of-the-trip.html#cb84-6"></a><span class="kw">saveRDS</span>(m_recreational,<span class="dt">file =</span> <span class="st">&#39;models/m_recreational.RDS&#39;</span>)</span></code></pre></div>
<div class="sourceCode" id="cb85"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb85-1"><a href="ranking-carsharing-based-on-the-type-of-the-trip.html#cb85-1"></a><span class="kw">plot</span>(m_recreational)</span></code></pre></div>
<p><img src="carsharing-appendix_files/figure-html/unnamed-chunk-61-1.png" width="672" /></p>
<div class="sourceCode" id="cb86"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb86-1"><a href="ranking-carsharing-based-on-the-type-of-the-trip.html#cb86-1"></a><span class="kw">summary</span>(m_recreational)</span></code></pre></div>
<pre><code>## Estimated baseline parameters with 95% HPD intervals:
## 
## Table: (\#tab:unnamed-chunk-62)Parameters estimates
## 
## Parameter          Mean   Median   HPD_lower   HPD_higher
## ---------------  ------  -------  ----------  -----------
## lambda[COMB]       0.46     0.46       -2.40         3.21
## lambda[FF]        -1.50    -1.51       -4.29         1.26
## lambda[RTSB_B]     0.70     0.69       -2.31         3.30
## lambda[P2P]        0.06     0.06       -2.76         2.80
## lambda[RTSB_A]     0.15     0.16       -2.72         2.92
## NOTES:
## * A higher lambda indicates a higher team ability
## 
## Posterior probabilities:
## These probabilities are calculated from the predictive posterior distribution
## for all player combinations
## 
## 
## Table: (\#tab:unnamed-chunk-62)Estimated posterior probabilites
## 
## i        j         i_beats_j   j_beats_i
## -------  -------  ----------  ----------
## COMB     FF             0.89        0.11
## COMB     P2P            0.62        0.38
## COMB     RTSB_A         0.62        0.38
## COMB     RTSB_B         0.49        0.51
## FF       P2P            0.13        0.87
## FF       RTSB_A         0.17        0.83
## FF       RTSB_B         0.14        0.86
## P2P      RTSB_A         0.55        0.45
## P2P      RTSB_B         0.28        0.72
## RTSB_A   RTSB_B         0.40        0.60
## 
## Rank of the players&#39; abilities:
## The rank is based on the posterior rank distribution of the lambda parameter
## 
## Table: (\#tab:unnamed-chunk-62)Estimated posterior ranks
## 
## Parameter    MedianRank   MeanRank   StdRank
## ----------  -----------  ---------  --------
## RTSB_B                1       1.40      0.65
## COMB                  2       2.19      0.88
## RTSB_A                3       3.03      0.94
## P2P                   4       3.37      0.75
## FF                    5       5.00      0.00</code></pre>
</div>
<div id="holiday-trips" class="section level2">
<h2><span class="header-section-number">4.9</span> Holiday trips</h2>
<div class="sourceCode" id="cb88"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb88-1"><a href="ranking-carsharing-based-on-the-type-of-the-trip.html#cb88-1"></a>d_holidays &lt;-<span class="st"> </span>d <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb88-2"><a href="ranking-carsharing-based-on-the-type-of-the-trip.html#cb88-2"></a><span class="st">  </span><span class="kw">select</span>(v22bnd_<span class="dv">6</span>,</span>
<span id="cb88-3"><a href="ranking-carsharing-based-on-the-type-of-the-trip.html#cb88-3"></a>         v22c2g_<span class="dv">6</span>,</span>
<span id="cb88-4"><a href="ranking-carsharing-based-on-the-type-of-the-trip.html#cb88-4"></a>         v162_a,</span>
<span id="cb88-5"><a href="ranking-carsharing-based-on-the-type-of-the-trip.html#cb88-5"></a>         v168_a,</span>
<span id="cb88-6"><a href="ranking-carsharing-based-on-the-type-of-the-trip.html#cb88-6"></a>         v22cam_<span class="dv">6</span>) <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb88-7"><a href="ranking-carsharing-based-on-the-type-of-the-trip.html#cb88-7"></a><span class="st">  </span><span class="kw">rename</span>(<span class="st">&#39;COMB&#39;</span>=<span class="st">&#39;v22bnd_6&#39;</span>,</span>
<span id="cb88-8"><a href="ranking-carsharing-based-on-the-type-of-the-trip.html#cb88-8"></a>        <span class="st">&#39;FF&#39;</span> =<span class="st">&#39;v22c2g_6&#39;</span>,</span>
<span id="cb88-9"><a href="ranking-carsharing-based-on-the-type-of-the-trip.html#cb88-9"></a>        <span class="st">&#39;RTSB_B&#39;</span> =<span class="st"> &#39;v162_a&#39;</span>,</span>
<span id="cb88-10"><a href="ranking-carsharing-based-on-the-type-of-the-trip.html#cb88-10"></a>        <span class="st">&#39;P2P&#39;</span> =<span class="st"> &#39;v168_a&#39;</span>,</span>
<span id="cb88-11"><a href="ranking-carsharing-based-on-the-type-of-the-trip.html#cb88-11"></a>        <span class="st">&#39;RTSB_A&#39;</span> =<span class="st"> &#39;v22cam_6&#39;</span>) <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb88-12"><a href="ranking-carsharing-based-on-the-type-of-the-trip.html#cb88-12"></a><span class="st">  </span><span class="kw">mutate</span>(<span class="dt">COMB =</span> <span class="kw">as.numeric</span>(COMB),</span>
<span id="cb88-13"><a href="ranking-carsharing-based-on-the-type-of-the-trip.html#cb88-13"></a>         <span class="dt">FF =</span> <span class="kw">as.numeric</span>(FF),</span>
<span id="cb88-14"><a href="ranking-carsharing-based-on-the-type-of-the-trip.html#cb88-14"></a>         <span class="dt">RTSB_B =</span> <span class="kw">as.numeric</span>(RTSB_B),</span>
<span id="cb88-15"><a href="ranking-carsharing-based-on-the-type-of-the-trip.html#cb88-15"></a>         <span class="dt">P2P =</span> <span class="kw">as.numeric</span>(P2P),</span>
<span id="cb88-16"><a href="ranking-carsharing-based-on-the-type-of-the-trip.html#cb88-16"></a>         <span class="dt">RTSB_A =</span> <span class="kw">as.numeric</span>(RTSB_A))</span></code></pre></div>
<p>Now lets convert this to paired comparison</p>
<div class="sourceCode" id="cb89"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb89-1"><a href="ranking-carsharing-based-on-the-type-of-the-trip.html#cb89-1"></a>d_holidays_pc &lt;-<span class="st"> </span><span class="kw">convert2pairedcomp</span>(d_holidays)</span>
<span id="cb89-2"><a href="ranking-carsharing-based-on-the-type-of-the-trip.html#cb89-2"></a><span class="kw">cat</span>(<span class="kw">length</span>(<span class="kw">unique</span>(d_holidays_pc<span class="op">$</span>user)), <span class="st">&#39; evaluated at least two companies&#39;</span>)</span></code></pre></div>
<pre><code>## 252  evaluated at least two companies</code></pre>
<div class="sourceCode" id="cb91"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb91-1"><a href="ranking-carsharing-based-on-the-type-of-the-trip.html#cb91-1"></a>m_holidays &lt;-<span class="st"> </span><span class="kw">bpc</span>(d_holidays_pc,</span>
<span id="cb91-2"><a href="ranking-carsharing-based-on-the-type-of-the-trip.html#cb91-2"></a>             <span class="dt">player0 =</span> <span class="st">&#39;company0&#39;</span>, </span>
<span id="cb91-3"><a href="ranking-carsharing-based-on-the-type-of-the-trip.html#cb91-3"></a>             <span class="dt">player1=</span><span class="st">&#39;company1&#39;</span>, </span>
<span id="cb91-4"><a href="ranking-carsharing-based-on-the-type-of-the-trip.html#cb91-4"></a>             <span class="dt">result_column =</span> <span class="st">&#39;win&#39;</span>, </span>
<span id="cb91-5"><a href="ranking-carsharing-based-on-the-type-of-the-trip.html#cb91-5"></a>             <span class="dt">model_type =</span> <span class="st">&#39;bt&#39;</span>)</span>
<span id="cb91-6"><a href="ranking-carsharing-based-on-the-type-of-the-trip.html#cb91-6"></a><span class="kw">saveRDS</span>(m_holidays,<span class="dt">file =</span> <span class="st">&#39;models/m_holidays.RDS&#39;</span>)</span></code></pre></div>
<div class="sourceCode" id="cb92"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb92-1"><a href="ranking-carsharing-based-on-the-type-of-the-trip.html#cb92-1"></a><span class="kw">plot</span>(m_holidays)</span></code></pre></div>
<p><img src="carsharing-appendix_files/figure-html/unnamed-chunk-67-1.png" width="672" /></p>
<div class="sourceCode" id="cb93"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb93-1"><a href="ranking-carsharing-based-on-the-type-of-the-trip.html#cb93-1"></a><span class="kw">summary</span>(m_holidays)</span></code></pre></div>
<pre><code>## Estimated baseline parameters with 95% HPD intervals:
## 
## Table: (\#tab:unnamed-chunk-68)Parameters estimates
## 
## Parameter          Mean   Median   HPD_lower   HPD_higher
## ---------------  ------  -------  ----------  -----------
## lambda[COMB]      -0.50    -0.50       -3.07         2.19
## lambda[FF]        -1.95    -1.95       -4.34         0.87
## lambda[RTSB_B]     0.32     0.32       -2.14         3.09
## lambda[P2P]        0.94     0.92       -1.64         3.63
## lambda[RTSB_A]     0.71     0.69       -1.77         3.48
## NOTES:
## * A higher lambda indicates a higher team ability
## 
## Posterior probabilities:
## These probabilities are calculated from the predictive posterior distribution
## for all player combinations
## 
## 
## Table: (\#tab:unnamed-chunk-68)Estimated posterior probabilites
## 
## i        j         i_beats_j   j_beats_i
## -------  -------  ----------  ----------
## COMB     FF             0.75        0.25
## COMB     P2P            0.23        0.77
## COMB     RTSB_A         0.28        0.72
## COMB     RTSB_B         0.30        0.70
## FF       P2P            0.08        0.92
## FF       RTSB_A         0.08        0.92
## FF       RTSB_B         0.14        0.86
## P2P      RTSB_A         0.52        0.48
## P2P      RTSB_B         0.57        0.43
## RTSB_A   RTSB_B         0.64        0.36
## 
## Rank of the players&#39; abilities:
## The rank is based on the posterior rank distribution of the lambda parameter
## 
## Table: (\#tab:unnamed-chunk-68)Estimated posterior ranks
## 
## Parameter    MedianRank   MeanRank   StdRank
## ----------  -----------  ---------  --------
## P2P                   1       1.39      0.57
## RTSB_A                2       1.95      0.73
## RTSB_B                3       2.68      0.58
## COMB                  4       3.98      0.13
## FF                    5       5.00      0.00</code></pre>
</div>
<div id="creating-tables-and-figures-for-the-article" class="section level2">
<h2><span class="header-section-number">4.10</span> Creating tables and figures for the article</h2>
<p>Table of ranks</p>
<div class="sourceCode" id="cb95"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb95-1"><a href="ranking-carsharing-based-on-the-type-of-the-trip.html#cb95-1"></a>rank_table &lt;-<span class="st"> </span><span class="kw">rbind</span>( <span class="kw">get_rank_of_players_df</span>(m_work),</span>
<span id="cb95-2"><a href="ranking-carsharing-based-on-the-type-of-the-trip.html#cb95-2"></a>                     <span class="kw">get_rank_of_players_df</span>(m_dinner),</span>
<span id="cb95-3"><a href="ranking-carsharing-based-on-the-type-of-the-trip.html#cb95-3"></a>                     <span class="kw">get_rank_of_players_df</span>(m_shopdaily),</span>
<span id="cb95-4"><a href="ranking-carsharing-based-on-the-type-of-the-trip.html#cb95-4"></a>                     <span class="kw">get_rank_of_players_df</span>(m_shopbulk),</span>
<span id="cb95-5"><a href="ranking-carsharing-based-on-the-type-of-the-trip.html#cb95-5"></a>                     <span class="kw">get_rank_of_players_df</span>(m_recreational),</span>
<span id="cb95-6"><a href="ranking-carsharing-based-on-the-type-of-the-trip.html#cb95-6"></a>                     <span class="kw">get_rank_of_players_df</span>(m_holidays))</span>
<span id="cb95-7"><a href="ranking-carsharing-based-on-the-type-of-the-trip.html#cb95-7"></a><span class="kw">colnames</span>(rank_table) &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="st">&#39;Carsharing&#39;</span>, <span class="st">&#39;Median&#39;</span>, <span class="st">&#39;Mean&#39;</span>, <span class="st">&#39;sd&#39;</span>)</span>
<span id="cb95-8"><a href="ranking-carsharing-based-on-the-type-of-the-trip.html#cb95-8"></a></span>
<span id="cb95-9"><a href="ranking-carsharing-based-on-the-type-of-the-trip.html#cb95-9"></a>rank_table<span class="op">$</span>Carsharing &lt;-<span class="st"> </span><span class="kw">str_remove</span>(rank_table<span class="op">$</span>Carsharing, <span class="kw">fixed</span>(<span class="st">&#39;lambda[&#39;</span>))</span>
<span id="cb95-10"><a href="ranking-carsharing-based-on-the-type-of-the-trip.html#cb95-10"></a>rank_table<span class="op">$</span>Carsharing &lt;-<span class="st"> </span><span class="kw">str_remove</span>(rank_table<span class="op">$</span>Carsharing, <span class="kw">fixed</span>(<span class="st">&#39;]&#39;</span>))</span>
<span id="cb95-11"><a href="ranking-carsharing-based-on-the-type-of-the-trip.html#cb95-11"></a></span>
<span id="cb95-12"><a href="ranking-carsharing-based-on-the-type-of-the-trip.html#cb95-12"></a>rank_table <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">kable</span>(<span class="dt">caption=</span><span class="st">&quot;Rank of the types of carsharing&quot;</span>, </span>
<span id="cb95-13"><a href="ranking-carsharing-based-on-the-type-of-the-trip.html#cb95-13"></a>                     <span class="dt">booktabs=</span>T, </span>
<span id="cb95-14"><a href="ranking-carsharing-based-on-the-type-of-the-trip.html#cb95-14"></a>                     <span class="dt">digits =</span><span class="dv">2</span>, </span>
<span id="cb95-15"><a href="ranking-carsharing-based-on-the-type-of-the-trip.html#cb95-15"></a>                     <span class="dt">format =</span> <span class="st">&#39;html&#39;</span>,</span>
<span id="cb95-16"><a href="ranking-carsharing-based-on-the-type-of-the-trip.html#cb95-16"></a>                     <span class="dt">label=</span><span class="st">&#39;ranking-table&#39;</span>) <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb95-17"><a href="ranking-carsharing-based-on-the-type-of-the-trip.html#cb95-17"></a><span class="st">  </span>kableExtra<span class="op">::</span><span class="kw">kable_styling</span>() <span class="op">%&gt;%</span></span>
<span id="cb95-18"><a href="ranking-carsharing-based-on-the-type-of-the-trip.html#cb95-18"></a><span class="st">  </span>kableExtra<span class="op">::</span><span class="kw">pack_rows</span>(<span class="st">&quot;Work trips&quot;</span>, <span class="dv">1</span>, <span class="dv">5</span>) <span class="op">%&gt;%</span></span>
<span id="cb95-19"><a href="ranking-carsharing-based-on-the-type-of-the-trip.html#cb95-19"></a><span class="st">  </span>kableExtra<span class="op">::</span><span class="kw">pack_rows</span>(<span class="st">&quot;Dinner trips&quot;</span>, <span class="dv">6</span>, <span class="dv">10</span>) <span class="op">%&gt;%</span></span>
<span id="cb95-20"><a href="ranking-carsharing-based-on-the-type-of-the-trip.html#cb95-20"></a><span class="st">  </span>kableExtra<span class="op">::</span><span class="kw">pack_rows</span>(<span class="st">&quot;Daily shopping trips&quot;</span>, <span class="dv">11</span>, <span class="dv">15</span>) <span class="op">%&gt;%</span></span>
<span id="cb95-21"><a href="ranking-carsharing-based-on-the-type-of-the-trip.html#cb95-21"></a><span class="st">  </span>kableExtra<span class="op">::</span><span class="kw">pack_rows</span>(<span class="st">&quot;Bulk shopping trips&quot;</span>,  <span class="dv">16</span>, <span class="dv">20</span>) <span class="op">%&gt;%</span></span>
<span id="cb95-22"><a href="ranking-carsharing-based-on-the-type-of-the-trip.html#cb95-22"></a><span class="st">  </span>kableExtra<span class="op">::</span><span class="kw">pack_rows</span>(<span class="st">&quot;Recreational trips&quot;</span>, <span class="dv">21</span>, <span class="dv">25</span>) <span class="op">%&gt;%</span></span>
<span id="cb95-23"><a href="ranking-carsharing-based-on-the-type-of-the-trip.html#cb95-23"></a><span class="st">  </span>kableExtra<span class="op">::</span><span class="kw">pack_rows</span>(<span class="st">&quot;Holiday trips&quot;</span>, <span class="dv">26</span>, <span class="dv">30</span>)</span></code></pre></div>
<table class="table" style="margin-left: auto; margin-right: auto;">
<caption>
<span id="tab:ranking-table">Table 4.1: </span>Rank of the types of carsharing
</caption>
<thead>
<tr>
<th style="text-align:left;">
Carsharing
</th>
<th style="text-align:right;">
Median
</th>
<th style="text-align:right;">
Mean
</th>
<th style="text-align:right;">
sd
</th>
</tr>
</thead>
<tbody>
<tr grouplength="5">
<td colspan="4" style="border-bottom: 1px solid;">
<strong>Work trips</strong>
</td>
</tr>
<tr>
<td style="text-align:left; padding-left:  2em;" indentlevel="1">
FF
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1.06
</td>
<td style="text-align:right;">
0.24
</td>
</tr>
<tr>
<td style="text-align:left; padding-left:  2em;" indentlevel="1">
RTSB_A
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
2.74
</td>
<td style="text-align:right;">
1.07
</td>
</tr>
<tr>
<td style="text-align:left; padding-left:  2em;" indentlevel="1">
COMB
</td>
<td style="text-align:right;">
3
</td>
<td style="text-align:right;">
3.04
</td>
<td style="text-align:right;">
0.97
</td>
</tr>
<tr>
<td style="text-align:left; padding-left:  2em;" indentlevel="1">
P2P
</td>
<td style="text-align:right;">
4
</td>
<td style="text-align:right;">
4.07
</td>
<td style="text-align:right;">
0.95
</td>
</tr>
<tr>
<td style="text-align:left; padding-left:  2em;" indentlevel="1">
RTSB_B
</td>
<td style="text-align:right;">
4
</td>
<td style="text-align:right;">
4.08
</td>
<td style="text-align:right;">
0.90
</td>
</tr>
<tr grouplength="5">
<td colspan="4" style="border-bottom: 1px solid;">
<strong>Dinner trips</strong>
</td>
</tr>
<tr>
<td style="text-align:left; padding-left:  2em;" indentlevel="1">
FF
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1.01
</td>
<td style="text-align:right;">
0.09
</td>
</tr>
<tr>
<td style="text-align:left; padding-left:  2em;" indentlevel="1">
COMB
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
2.14
</td>
<td style="text-align:right;">
0.43
</td>
</tr>
<tr>
<td style="text-align:left; padding-left:  2em;" indentlevel="1">
RTSB_A
</td>
<td style="text-align:right;">
4
</td>
<td style="text-align:right;">
3.66
</td>
<td style="text-align:right;">
0.92
</td>
</tr>
<tr>
<td style="text-align:left; padding-left:  2em;" indentlevel="1">
RTSB_B
</td>
<td style="text-align:right;">
4
</td>
<td style="text-align:right;">
3.66
</td>
<td style="text-align:right;">
0.77
</td>
</tr>
<tr>
<td style="text-align:left; padding-left:  2em;" indentlevel="1">
P2P
</td>
<td style="text-align:right;">
5
</td>
<td style="text-align:right;">
4.53
</td>
<td style="text-align:right;">
0.69
</td>
</tr>
<tr grouplength="5">
<td colspan="4" style="border-bottom: 1px solid;">
<strong>Daily shopping trips</strong>
</td>
</tr>
<tr>
<td style="text-align:left; padding-left:  2em;" indentlevel="1">
COMB
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1.36
</td>
<td style="text-align:right;">
0.69
</td>
</tr>
<tr>
<td style="text-align:left; padding-left:  2em;" indentlevel="1">
FF
</td>
<td style="text-align:right;">
3
</td>
<td style="text-align:right;">
2.69
</td>
<td style="text-align:right;">
0.78
</td>
</tr>
<tr>
<td style="text-align:left; padding-left:  2em;" indentlevel="1">
RTSB_A
</td>
<td style="text-align:right;">
3
</td>
<td style="text-align:right;">
2.84
</td>
<td style="text-align:right;">
1.16
</td>
</tr>
<tr>
<td style="text-align:left; padding-left:  2em;" indentlevel="1">
RTSB_B
</td>
<td style="text-align:right;">
3
</td>
<td style="text-align:right;">
3.12
</td>
<td style="text-align:right;">
0.87
</td>
</tr>
<tr>
<td style="text-align:left; padding-left:  2em;" indentlevel="1">
P2P
</td>
<td style="text-align:right;">
5
</td>
<td style="text-align:right;">
5.00
</td>
<td style="text-align:right;">
0.04
</td>
</tr>
<tr grouplength="5">
<td colspan="4" style="border-bottom: 1px solid;">
<strong>Bulk shopping trips</strong>
</td>
</tr>
<tr>
<td style="text-align:left; padding-left:  2em;" indentlevel="1">
RTSB_B
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1.05
</td>
<td style="text-align:right;">
0.22
</td>
</tr>
<tr>
<td style="text-align:left; padding-left:  2em;" indentlevel="1">
COMB
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
2.44
</td>
<td style="text-align:right;">
0.52
</td>
</tr>
<tr>
<td style="text-align:left; padding-left:  2em;" indentlevel="1">
RTSB_A
</td>
<td style="text-align:right;">
3
</td>
<td style="text-align:right;">
2.52
</td>
<td style="text-align:right;">
0.58
</td>
</tr>
<tr>
<td style="text-align:left; padding-left:  2em;" indentlevel="1">
P2P
</td>
<td style="text-align:right;">
4
</td>
<td style="text-align:right;">
4.31
</td>
<td style="text-align:right;">
0.47
</td>
</tr>
<tr>
<td style="text-align:left; padding-left:  2em;" indentlevel="1">
FF
</td>
<td style="text-align:right;">
5
</td>
<td style="text-align:right;">
4.69
</td>
<td style="text-align:right;">
0.46
</td>
</tr>
<tr grouplength="5">
<td colspan="4" style="border-bottom: 1px solid;">
<strong>Recreational trips</strong>
</td>
</tr>
<tr>
<td style="text-align:left; padding-left:  2em;" indentlevel="1">
RTSB_B
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1.39
</td>
<td style="text-align:right;">
0.64
</td>
</tr>
<tr>
<td style="text-align:left; padding-left:  2em;" indentlevel="1">
COMB
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
2.25
</td>
<td style="text-align:right;">
0.89
</td>
</tr>
<tr>
<td style="text-align:left; padding-left:  2em;" indentlevel="1">
RTSB_A
</td>
<td style="text-align:right;">
3
</td>
<td style="text-align:right;">
2.98
</td>
<td style="text-align:right;">
0.98
</td>
</tr>
<tr>
<td style="text-align:left; padding-left:  2em;" indentlevel="1">
P2P
</td>
<td style="text-align:right;">
4
</td>
<td style="text-align:right;">
3.37
</td>
<td style="text-align:right;">
0.75
</td>
</tr>
<tr>
<td style="text-align:left; padding-left:  2em;" indentlevel="1">
FF
</td>
<td style="text-align:right;">
5
</td>
<td style="text-align:right;">
5.00
</td>
<td style="text-align:right;">
0.00
</td>
</tr>
<tr grouplength="5">
<td colspan="4" style="border-bottom: 1px solid;">
<strong>Holiday trips</strong>
</td>
</tr>
<tr>
<td style="text-align:left; padding-left:  2em;" indentlevel="1">
P2P
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1.40
</td>
<td style="text-align:right;">
0.58
</td>
</tr>
<tr>
<td style="text-align:left; padding-left:  2em;" indentlevel="1">
RTSB_A
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
1.93
</td>
<td style="text-align:right;">
0.73
</td>
</tr>
<tr>
<td style="text-align:left; padding-left:  2em;" indentlevel="1">
RTSB_B
</td>
<td style="text-align:right;">
3
</td>
<td style="text-align:right;">
2.68
</td>
<td style="text-align:right;">
0.58
</td>
</tr>
<tr>
<td style="text-align:left; padding-left:  2em;" indentlevel="1">
COMB
</td>
<td style="text-align:right;">
4
</td>
<td style="text-align:right;">
3.99
</td>
<td style="text-align:right;">
0.11
</td>
</tr>
<tr>
<td style="text-align:left; padding-left:  2em;" indentlevel="1">
FF
</td>
<td style="text-align:right;">
5
</td>
<td style="text-align:right;">
5.00
</td>
<td style="text-align:right;">
0.00
</td>
</tr>
</tbody>
</table>

</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="motivators-for-using-a-carsharing-company.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="psychological-predictors-of-carsharing-per-business-model.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"whatsapp": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": null,
"text": null
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": null,
"search": {
"engine": "fuse",
"options": null
},
"toc": {
"collapse": "subsection"
}
});
});
</script>

</body>

</html>
